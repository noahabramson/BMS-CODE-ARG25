Virtual SPI Interface
===================================
In order to play with PyBMS without hardware, the Virtual SPI connection was developed.
The idea of Virtual SPI, is to play with PyBMS without requiring hardware. It does however,
show the output that is normally send to the SDP-K1. This can be useful for debugging. If you
don't care about this, you also use NoCon instead.

To use Virtual SPI, simply replace the two components listed here
In case you don't care about the output, NoCon is also a possible interface.

replace:

.. code-block:: python
   :name: import_0

   from Engine.Interfaces.USB_TO_SPI_BYTE import USB_TO_SPI_BYTE

with:

.. code-block:: python
   :name: replace_0

   from Engine.Interfaces.Virtual_SPI import Virtual_SPI


And also replace

.. code-block:: python
   :name: import_1

   interface = USB_TO_SPI_BYTE('COM28', 115200, stdout=False)

with:

.. code-block:: python
   :name: replace_1

   interface = Virtual_SPI('data.txt')

This of course means that there will be no communication. So the return values don't mean anything and should all have default values. However, you are still able to use scratchpads like normal to test for example the syntax. There is however some kind of output. The values that would normally been send to the SDP-K1, are now written to 'data.txt' (or whatever path you give up). The meaning of these values is as follows:

+----+--------------------------------------------------------------------------------------------------------+
|byte|                                    meaning                                                             |
+====+========================================================================================================+
| 0  |                                                                                                        |
+----+--------------------------------------------------------------------------------------------------------+
| 1  | < 12, command for SDK-K1 (delay, etc), >= 12 send data to BMS IC                                       |
+----+--------------------------------------------------------------------------------------------------------+
| 2  |                                                                                                        |
+----+--------------------------------------------------------------------------------------------------------+
| 3  | Typ of command for SDP-K1 (4=delay_us, 5=delay_ms, 8=$SPI_WAKEUP$ (see table in Interfaces.Connection) |
+----+--------------------------------------------------------------------------------------------------------+
| 4  |                                                                                                        |
+----+--------------------------------------------------------------------------------------------------------+
| 5  | Amount of tx_bytes                                                                                     |
+----+--------------------------------------------------------------------------------------------------------+
| 6  |                                                                                                        |
+----+--------------------------------------------------------------------------------------------------------+
| 7  | Amount of rx_bytes                                                                                     |
+----+--------------------------------------------------------------------------------------------------------+
| 8  | SPI BUS                                                                                                |
+----+--------------------------------------------------------------------------------------------------------+
| 9  | SPI CS (Only if SPI BUS is 1)                                                                          |
+----+--------------------------------------------------------------------------------------------------------+
| 10 | tx_data[0]                                                                                             |
+----+--------------------------------------------------------------------------------------------------------+
| 11 | tx_data[1]                                                                                             |
+----+--------------------------------------------------------------------------------------------------------+
| 12 | tx_data[2]                                                                                             |
+----+--------------------------------------------------------------------------------------------------------+
| 13 | tx_data[3]                                                                                             |
+----+--------------------------------------------------------------------------------------------------------+
| n  | tx_data[n]                                                                                             |
+----+--------------------------------------------------------------------------------------------------------+

An example of Virtual SPI, you can find in scratchpads/SDP-K1/SDP-K1_Virtual_SPI_simple.py
